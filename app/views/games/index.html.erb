<div class="min-h-screen bg-white flex items-center justify-center py-16 px-4" data-controller="game">
  <div class="max-w-4xl w-full">
    <h1 class="font-montserrat font-medium text-5xl text-purple-dark tracking-wide mb-8 text-center">
      ROCK &ndash; PAPER &ndash; SCISSORS
    </h1>

    <p class="font-roboto font-light text-xl leading-8 text-black/55 mb-16 max-w-3xl mx-auto text-center">
      Rock Paper Scissors is a zero sum game that is usually played by two people
      using their hands and no tools. The idea is to make shapes with an outstretched
      hand where each shape will have a certain degree of power and will lead to an
      outcome.
    </p>

    <h2 class="font-roboto font-medium text-lg text-black text-center mb-10 uppercase tracking-wider">
      Select Your Bet
    </h2>

    <% if flash[:alert] %>
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6 text-center">
        <%= flash[:alert] %>
      </div>
    <% end %>

    <%= form_with url: play_games_path, method: :post, data: { turbo: false, action: "submit->game#submit" }, id: "game-form" do |f| %>
      <div class="flex justify-center gap-8">
        <% [:rock, :paper, :scissors].each do |throw_name| %>
          <button type="submit"
                  name="throw"
                  value="<%= throw_name %>"
                  class="group flex flex-col items-center p-8 rounded-lg hover:bg-gray-50 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-purple-dark/30 disabled:opacity-30 disabled:cursor-not-allowed"
                  data-game-target="button"
                  data-throw="<%= throw_name %>">
            <div class="mb-4">
              <%= render "games/icons/#{throw_name}" %>
            </div>
            <span class="font-roboto text-purple-dark text-lg capitalize"><%= throw_name %></span>
          </button>
        <% end %>
      </div>
    <% end %>
  </div>

  <div id="loading-modal" class="hidden fixed inset-0 bg-black/30 flex items-center justify-center z-50" data-game-target="loadingModal">
    <div class="bg-white rounded-lg shadow-xl p-8 max-w-lg w-full mx-4 border-2 border-blue-400 relative">
      <button type="button" class="absolute top-4 right-4 text-gray-400 hover:text-gray-600" data-action="click->game#closeModal">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
        </svg>
      </button>

      <h3 class="font-roboto font-medium text-xl text-purple-dark text-center mb-8 uppercase">
        Waiting Curb's Choose
      </h3>

      <div class="flex justify-around items-center mb-8">
        <div class="text-center">
          <div id="player-throw-icon" class="mb-2">
          </div>
          <span class="font-roboto text-purple-dark">Your bet</span>
        </div>

        <div class="text-center">
          <div class="flex gap-1 mb-2 justify-center py-8">
            <span class="w-3 h-3 bg-purple-dark rounded-full animate-bounce" style="animation-delay: 0ms"></span>
            <span class="w-3 h-3 bg-purple-dark/50 rounded-full animate-bounce" style="animation-delay: 150ms"></span>
            <span class="w-3 h-3 bg-purple-dark/30 rounded-full animate-bounce" style="animation-delay: 300ms"></span>
          </div>
          <span class="font-roboto font-medium text-xl text-curb-green">curb</span>
        </div>
      </div>
    </div>
  </div>
</div>
